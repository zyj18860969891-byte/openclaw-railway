{
  "id": "feishu",
  "name": "Feishu",
  "description": "飞书/Lark 消息渠道插件",
  "version": "0.1.5",
  "channels": ["feishu"],
  "configSchema": {
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "enabled": {
        "type": "boolean",
        "description": "是否启用飞书通道"
      },
      "appId": {
        "type": "string",
        "description": "飞书应用 ID (App ID)"
      },
      "appSecret": {
        "type": "string",
        "description": "飞书应用密钥 (App Secret)",
        "sensitive": true
      },
      "connectionMode": {
        "type": "string",
        "enum": ["websocket"],
        "description": "连接模式"
      },
      "dmPolicy": {
        "type": "string",
        "enum": ["open", "pairing", "allowlist"],
        "description": "私聊策略"
      },
      "groupPolicy": {
        "type": "string",
        "enum": ["open", "allowlist", "disabled"],
        "description": "群组策略"
      },
      "requireMention": {
        "type": "boolean",
        "description": "是否需要@提及"
      },
      "allowFrom": {
        "type": "array",
        "items": { "type": "string" },
        "description": "允许的来源用户列表"
      },
      "groupAllowFrom": {
        "type": "array",
        "items": { "type": "string" },
        "description": "群组允许的来源列表"
      },
      "sendMarkdownAsCard": {
        "type": "boolean",
        "description": "是否将Markdown消息发送为卡片"
      },
      "historyLimit": {
        "type": "integer",
        "minimum": 0,
        "description": "历史消息限制"
      },
      "textChunkLimit": {
        "type": "integer",
        "minimum": 1,
        "description": "文本分块限制"
      }
  },
  "uiHints": {
    "appId": { "label": "App ID" },
    "appSecret": { "label": "App Secret", "sensitive": true }
  }
}
