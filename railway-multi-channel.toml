# Railway 多通道部署配置\n# 用于 OpenClaw 的完整生产部署\n\n[build]\nbuilder = \"docker\"\nbuilddocker = \"Dockerfile.railway\"\n\n[environment]\n# 数据库配置\nDATABASE_URL = \"${DATABASE_URL}\"\nNODE_ENV = \"production\"\n\n# 多通道配置示例 - 飞书\nFEISHU_APP_ID_1 = \"${FEISHU_APP_ID_1}\"\nFEISHU_APP_SECRET_1 = \"${FEISHU_APP_SECRET_1}\"\nFEISHU_VERIFICATION_TOKEN_1 = \"${FEISHU_VERIFICATION_TOKEN_1}\"\n\nFEISHU_APP_ID_2 = \"${FEISHU_APP_ID_2}\"\nFEISHU_APP_SECRET_2 = \"${FEISHU_APP_SECRET_2}\"\nFEISHU_VERIFICATION_TOKEN_2 = \"${FEISHU_VERIFICATION_TOKEN_2}\"\n\n# 钉钉配置\nDINGTALK_CLIENT_ID_1 = \"${DINGTALK_CLIENT_ID_1}\"\nDINGTALK_CLIENT_SECRET_1 = \"${DINGTALK_CLIENT_SECRET_1}\"\n\n# 企业微信配置\nWECOM_CORP_ID_1 = \"${WECOM_CORP_ID_1}\"\nWECOM_CORP_SECRET_1 = \"${WECOM_CORP_SECRET_1}\"\n\n# API配置\nPORT = \"3000\"\nAPI_BASE_URL = \"${RAILWAY_PUBLIC_DOMAIN}\" \nAPI_SECRET = \"${API_SECRET}\"\nJWT_SECRET = \"${JWT_SECRET}\"\n\n# 日志配置\nLOG_LEVEL = \"info\"\nLOG_FORMAT = \"json\"\n\n# 性能配置\nNODE_OPTIONS = \"--max-old-space-size=512\"\nWORKER_THREADS = \"4\"\nMAX_POOL_SIZE = \"20\"\n\n# 超时配置\nREQUEST_TIMEOUT = \"30000\"\nDB_POOL_TIMEOUT = \"10000\"\nCHANNEL_INIT_TIMEOUT = \"5000\"\n\n# 监控配置\nENABLE_METRICS = \"true\"\nMETRICS_PORT = \"9090\"\nHEALTH_CHECK_INTERVAL = \"60000\"\n\n# 容量管理配置\nMAX_CHANNELS_PER_SERVICE = \"8\"\nMAX_SERVICES = \"8\"\nCHANNEL_ALLOCATION_STRATEGY = \"round-robin\"\n\n[[services]]\nname = \"openclaw-multi-channel\"\ntemplate = \"nodejs\"\n\n[[services.build]]\nbuilder = \"docker\"\n\n[[services.deploy]]\nstartCommand = \"npm start\"\nmemory = \"512MB\"\nrestart = \"always\"\n\n[[services.healthcheck]]\ninterval = 30\ntimeout = 10\npath = \"/health\"\nport = 3000\n\n[[plugins]]\nname = \"postgres\"\nversion = \"14\"\n\n[[plugins]]\nname = \"redis\"\nversion = \"7\"\n"